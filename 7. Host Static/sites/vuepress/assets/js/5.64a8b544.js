(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{255:function(e,t,a){e.exports=a.p+"assets/img/postgresql-logo.e7999be0.png"},256:function(e,t,a){e.exports=a.p+"assets/img/managing-postgresql-users-1.573cc46c.gif"},268:function(e,t,a){"use strict";a.r(t);var s=a(28),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"postgresql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#postgresql"}},[e._v("#")]),e._v(" PostgreSQL")]),e._v(" "),s("p",[s("img",{attrs:{src:a(255),alt:"Alt Text"}})]),e._v(" "),s("h2",{attrs:{id:"introduction"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[e._v("#")]),e._v(" Introduction")]),e._v(" "),s("p",[e._v('PostgreSQL, often simply "Postgres", is an object-relational database management system (ORDBMS) with an emphasis on extensibility and standards-compliance.')]),e._v(" "),s("p",[e._v("PostgreSQL is ACID-compliant, transactional, has updatable and materialized views, triggers, and foreign keys. It also supports functions and stored procedures.")]),e._v(" "),s("h2",{attrs:{id:"advanced-features"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#advanced-features"}},[e._v("#")]),e._v(" Advanced Features")]),e._v(" "),s("ul",[s("li",[e._v("User-defined types")]),e._v(" "),s("li",[e._v("Table inheritance")]),e._v(" "),s("li",[e._v("Sophisticated locking mechanism")]),e._v(" "),s("li",[e._v("Foreign key referential integrity")]),e._v(" "),s("li",[e._v("Views, rules, subquery")]),e._v(" "),s("li",[e._v("Nested transactions (savepoints)")]),e._v(" "),s("li",[e._v("Multi-version concurrency control (MVCC)")])]),e._v(" "),s("h2",{attrs:{id:"limitations"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#limitations"}},[e._v("#")]),e._v(" Limitations")]),e._v(" "),s("ul",[s("li",[e._v("Slower performance compared to other database")]),e._v(" "),s("li",[e._v("Lacks integrated mechanisms for automatic failover and recovery between database replicas")]),e._v(" "),s("li",[e._v("Has no native mechanisms to partition (shard) the database across a cluster of nodes")])]),e._v(" "),s("h2",{attrs:{id:"comparison-with-other-products"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#comparison-with-other-products"}},[e._v("#")]),e._v(" Comparison with other Products")]),e._v(" "),s("ul",[s("li",[s("p",[s("strong",[e._v("MySQL")])]),e._v(" "),s("ul",[s("li",[e._v("PostgreSQL support modern applications feature like JSON, XML etc. while MySQL only supports JSON.")]),e._v(" "),s("li",[e._v("PostgreSQL is complete ACID compliant while MySQL is only ACID compliant when used with InnoDB and NDB")])])])]),e._v(" "),s("h2",{attrs:{id:"basic-installation-and-setup"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#basic-installation-and-setup"}},[e._v("#")]),e._v(" Basic Installation and Setup")]),e._v(" "),s("h3",{attrs:{id:"manual-installation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#manual-installation"}},[e._v("#")]),e._v(" Manual Installation")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://www.postgresql.org/download/linux/ubuntu/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Installation for Linux"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://www.postgresql.org/download/windows/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Installation for Windows"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://www.postgresql.org/download/macosx/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Installation for MacOS"),s("OutboundLink")],1)])]),e._v(" "),s("h3",{attrs:{id:"using-docker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#using-docker"}},[e._v("#")]),e._v(" Using Docker")]),e._v(" "),s("p",[e._v("To streamline your efforts in deploying your PostgreSQL in development and test environment, or even in your local machine,we can leverage the use of container.")]),e._v(" "),s("p",[s("strong",[e._v("Start a Postgres Instance")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ docker run --name some-postgres -e POSTGRES_PASSWORD=mysecretpassword -d postgres\n")])])]),s("p",[s("strong",[e._v("Start via psql")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ docker run -it --rm --network some-network postgres psql -h some-postgres -U postgres\n\n")])])]),s("h3",{attrs:{id:"using-managed-database-service"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#using-managed-database-service"}},[e._v("#")]),e._v(" Using Managed Database Service")]),e._v(" "),s("p",[e._v("Using a managed database services can help to reduce the process of provisioning and maintaining the database. Unlike in a traditional way of setting up database ,the developer doesn't need to maintain and manage the database; it's the cloud provider's responsibility to oversee the underlying infrastructure. In this setup, the developer has more focused on the application rather than configuring the database.")]),e._v(" "),s("p",[e._v("Here are the top 3 cloud providers that offers "),s("strong",[e._v("PostgreSQL")]),e._v(" as a "),s("strong",[e._v("Managed Database Service")])]),e._v(" "),s("ul",[s("li",[e._v("Amazon Relational Database Service")])]),e._v(" "),s("p",[s("a",{attrs:{href:"https://aws.amazon.com/getting-started/tutorials/create-connect-postgresql-db/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://aws.amazon.com/getting-started/tutorials/create-connect-postgresql-db/"),s("OutboundLink")],1)]),e._v(" "),s("ul",[s("li",[e._v("Google Cloud SQL")])]),e._v(" "),s("p",[s("a",{attrs:{href:"https://cloud.google.com/sql/docs/postgres",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://cloud.google.com/sql/docs/postgres"),s("OutboundLink")],1)]),e._v(" "),s("ul",[s("li",[e._v("Microsoft Azure Database")])]),e._v(" "),s("p",[s("a",{attrs:{href:"https://docs.microsoft.com/en-us/azure/postgresql/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://docs.microsoft.com/en-us/azure/postgresql/"),s("OutboundLink")],1)]),e._v(" "),s("h2",{attrs:{id:"user-access-management"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#user-access-management"}},[e._v("#")]),e._v(" User Access Management")]),e._v(" "),s("p",[e._v("With PostgreSQL,you can create users and roles with granular permissions. The new user or role must be selectively granted the required permission for each database object and PostgreSQL lets you grant permission directly to the database users, However, as a good practice, we recommend to create a role with specific set of permission based on access requirements. Then assign the role to each users. The roles should enforce a least privilege approach for accessing database objects.")]),e._v(" "),s("p",[e._v("Here is a diagram for best practices on granting privilege on postgreSQL.")]),e._v(" "),s("p",[s("img",{attrs:{src:a(256),alt:"Alt Text"}})]),e._v(" "),s("h2",{attrs:{id:"cluster-configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cluster-configuration"}},[e._v("#")]),e._v(" Cluster Configuration")]),e._v(" "),s("p",[e._v("In PostgreSQL, we can create a High Availability cluster configuration by continuous archiving, alongside with more than one standby servers that ready to take operations if the primary server fails, this capability is called "),s("strong",[e._v("warm standby")]),e._v(" or "),s("strong",[e._v("log shipping")]),e._v(".")]),e._v(" "),s("p",[e._v("Before we deep dive into Log-shipping, first we need to understand some basic concepts:")]),e._v(" "),s("ul",[s("li",[s("strong",[e._v("Primary/Master Server -")]),e._v(" A server that can modify/write data.")]),e._v(" "),s("li",[s("strong",[e._v("Standby Server")]),e._v(" - A server that tracks the changes in the master.")]),e._v(" "),s("li",[s("strong",[e._v("Warm Standby Servers")]),e._v(" - A Server that cannot be connected unless its promoted to\nmaster.")]),e._v(" "),s("li",[s("strong",[e._v("Hot standby servers")]),e._v(" - A server that accepts connections and serves only as read-only queries.")]),e._v(" "),s("li",[s("strong",[e._v("WAL or Write Ahead Log")]),e._v(" - a log file where all the modifications to the database are written")])]),e._v(" "),s("p",[s("strong",[e._v("Log-shipping Standby Servers")]),e._v(" - In this concept, the primary server is sending directly the WAL records from another standby servers. In PostgreSQL this is called "),s("strong",[e._v("file-based log shipping")]),e._v(" transferring WAL records one file (WAL segment) at a time. WAL files (16MB) can be shipped easily and cheaply over any distance, whether it be to an adjacent system, another system at the same site, or another system on the far side of the globe.")]),e._v(" "),s("p",[e._v("please do take note that log shipping is "),s("em",[e._v("asynchronous")]),e._v(" by default. As a result of this, there is a possibility of data loss that the primary server may suffer. if we want to change our execution process for log-shipping standby servers, we can choose to the following:")]),e._v(" "),s("ul",[s("li",[s("p",[s("strong",[e._v("Streaming replication")]),e._v(" - allows a standby server to stay more\nup-to-date than is possible with file-based log shipping. The standby\nconnects to the primary, which streams WAL records to the standby as\nthey're generated, without waiting for the WAL file to be filled.")])]),e._v(" "),s("li",[s("p",[s("strong",[e._v("Cascading replication")]),e._v(" - allows a standby server to accept replication\nconnections and stream WAL records to other standbys, acting as a\nrelay. This can be used to reduce the number of direct connections to\nthe master and also to minimize inter-site bandwidth overheads.")])]),e._v(" "),s("li",[s("p",[s("strong",[e._v("Synchronous replication")]),e._v(" - offers the ability to confirm that all\nchanges made by a transaction have been transferred to one or more\nsynchronous standby servers. This extends that standard level of\ndurability offered by a transaction commit.")])])]),e._v(" "),s("h2",{attrs:{id:"performance-tuning-recommendations"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#performance-tuning-recommendations"}},[e._v("#")]),e._v(" Performance Tuning Recommendations")]),e._v(" "),s("p",[e._v("Performance tuning is all about trade offs, we can't optimize everything in our database, sometimes we might accept a slow-running query in one part of your application that isn’t used so often in order to get a lightning-fast response time on a frequently performed query.")]),e._v(" "),s("p",[e._v("Here are the concepts that we need to check to further accelerate the performance of our database.")]),e._v(" "),s("ul",[s("li",[s("strong",[e._v("Hardware")]),e._v(" -  this is the first thing we need to check in terms of database optimization, some of the most important factors to check is, available memory, CPU and disk space, and performance.")]),e._v(" "),s("li",[s("strong",[e._v("Postgres configurations")]),e._v(" - there are several postgres options or configurations that can affect drastically database performance like,"),s("em",[e._v("max_connections_meffective_cache_size")]),e._v(","),s("em",[e._v("work_mem")]),e._v(" and etc.")]),e._v(" "),s("li",[s("strong",[e._v("Vacuuming")]),e._v(" - A vacuum is a scan that marks tuples as no longer needed so that they can be overwritten. Failure to do this can mean that you have dead tuples lingering in your system. These dead tuples are often called "),s("em",[e._v("bloat.")]),e._v(" Bloat originates mostly from records that are being deleted, updated, or inserted.")]),e._v(" "),s("li",[s("strong",[e._v("Analyze query performance")]),e._v(" - The most useful tool in tuning your database is the SQL command EXPLAIN ANALYZE.This allows you to profile each SQL query your application performs and see exactly how the PostgreSQL planner will process the query")]),e._v(" "),s("li",[s("strong",[e._v("Indexing")]),e._v("-Just as in a book, indexes give information to your database engine about roughly where in the system the data you’re looking for lives. To index our system properly, we need an understanding of our data and how we’re trying to access it.")])]),e._v(" "),s("h5",{attrs:{id:"references"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#references"}},[e._v("#")]),e._v(" References")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://www.tutorialandexample.com/postgresql-tutorial/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://www.tutorialandexample.com/postgresql-tutorial/"),s("OutboundLink")],1)]),e._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/docker-library/docs/blob/master/postgres/README.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/docker-library/docs/blob/master/postgres/README.md"),s("OutboundLink")],1)]),e._v(" "),s("p",[s("a",{attrs:{href:"https://www.digitalocean.com/community/tutorials/understanding-managed-databases",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://www.digitalocean.com/community/tutorials/understanding-managed-databases"),s("OutboundLink")],1)]),e._v(" "),s("p",[s("a",{attrs:{href:"https://www.cybertec-postgresql.com/en/postgresql-overview/solutions-who-uses-postgresql/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://www.cybertec-postgresql.com/en/postgresql-overview/solutions-who-uses-postgresql/"),s("OutboundLink")],1)]),e._v(" "),s("p",[s("a",{attrs:{href:"https://medium.com/we-build-state-of-the-art-software-creating/why-should-i-use-postgresql-as-database-in-my-startup-company-96de2fd375a9",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://medium.com/we-build-state-of-the-art-software-creating/why-should-i-use-postgresql-as-database-in-my-startup-company-96de2fd375a9"),s("OutboundLink")],1)]),e._v(" "),s("p",[s("a",{attrs:{href:"https://www.postgresql.org/docs/current/warm-standby-failover.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://www.postgresql.org/docs/current/warm-standby-failover.html"),s("OutboundLink")],1)]),e._v(" "),s("p",[s("a",{attrs:{href:"https://aws.amazon.com/blogs/database/managing-postgresql-users-and-roles/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://aws.amazon.com/blogs/database/managing-postgresql-users-and-roles/"),s("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=r.exports}}]);